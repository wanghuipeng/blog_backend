webpackJsonp([19],{455:function(t,i,a){function h(t){a(812)}var s=a(119)(a(755),a(847),h,"data-v-42338a5f",null);t.exports=s.exports},746:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var h=a(830),s=a.n(h);i.default={data:function(){return{}},props:{canvasId:{type:String,default:""},width:{type:[String,Number],default:500},height:{type:[String,Number],default:400},type:{type:String,default:"bar"},data:{type:Array,default:[]},options:{type:Object,required:!1}},mounted:function(){this.renderChart()},methods:{renderChart:function(){var t=this;new s.a(t.canvasId,t.type,t.data,t.options)}},watch:{data:function(){this.renderChart()},options:function(){this.renderChart()},type:function(){this.renderChart()},width:function(){var t=this;t.$nextTick(function(){t.renderChart()})},height:function(){var t=this;t.$nextTick(function(){t.renderChart()})}}}},755:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var h=a(836),s=a.n(h);i.default={name:"index",data:function(){return{readObj:{canvasId:"readNum",type:"line",width:"800",height:"398",data:[],options:{title:"近十天网站浏览量",bgColor:"#829dba",titleColor:"#ffffff",fillColor:"#e2f362",axisColor:"#eeeeee",contentColor:"#bbbbbb"}},readArtObj:{canvasId:"readArt",type:"bar",width:"800",height:"398",data:[],options:{title:"浏览量前十的文章",bgColor:"#829dba",titleColor:"#ffffff",fillColor:"#06abd0",axisColor:"#eeeeee",contentColor:"#bbbbbb"}},markNumObj:{canvasId:"markNum",type:"pie",width:"800",height:"398",data:[],options:{title:"评论量前十的文章",bgColor:"#829dba",titleColor:"#ffffff",legendColor:"#ffffff"}}}},components:{Schart:s.a},methods:{dealData:function(t){var i=[],a=[],h=[];t.TopMarksInfo.forEach(function(t,a){var h={};h.name=t.title,h.value=t.markNum,i.push(h)}),t.TopReadInfo.forEach(function(t,i){var h={};h.name=t.title,h.value=t.pv,a.push(h)}),t.TopReadSiteInfo.forEach(function(t,i){var a={};a.name=t.time,a.value=t.dayViews,h.push(a)}),this.readObj.data=h,this.readArtObj.data=a,this.markNumObj.data=i}},mounted:function(){var t=this;this.axios.get("chartData").then(function(i){if(t.$Modal.remove(),1!==i.data.status)return void t.$Message.warning(i.data.msg);t.dealData(i.data.data)}).catch(function(t){console.log("error")})}}},784:function(t,i,a){i=t.exports=a(449)(!0),i.push([t.i,"#index[data-v-42338a5f]{background-color:#f5f5d5;font-family:Georgia,serif;letter-spacing:-.01em;word-spacing:.2em;width:100%;height:100%}.myContent[data-v-42338a5f]{width:90%;margin-left:5%;background:#fff;padding:50px}.chartContent[data-v-42338a5f]{height:440px;width:100%;margin-bottom:15px;padding-top:20px;box-shadow:1px 1px 1px 1px #c3c39e}.chartContent[data-v-42338a5f]:hover{box-shadow:3px 2px 3px 3px #c3c39e}.chart[data-v-42338a5f]{margin:0 auto;width:800px;height:400px}","",{version:3,sources:["C:/Users/suntang12/Desktop/gitfiles/Vue-app/src/page/admin/adminChartsAnaly.vue"],names:[],mappings:"AACA,wBACI,yBAA0B,AAC1B,0BAA4B,AAC5B,sBAAwB,AACxB,kBAAoB,AACpB,WAAY,AACZ,WAAY,CACf,AACD,4BACI,UAAU,AACV,eAAe,AACf,gBAAiB,AACjB,YAAa,CAChB,AACD,+BACI,aAAa,AACb,WAAW,AACX,mBAAmB,AACnB,iBAAiB,AACjB,kCAAmC,CACtC,AACD,qCACI,kCAAmC,CACtC,AACD,wBACI,cAAc,AACd,YAAY,AACZ,YAAa,CAChB",file:"adminChartsAnaly.vue",sourcesContent:["\n#index[data-v-42338a5f]{\r\n    background-color: #f5f5d5;\r\n    font-family: Georgia, serif;\r\n    letter-spacing: -0.01em;\r\n    word-spacing: 0.2em;\r\n    width: 100%;\r\n    height:100%;\n}\n.myContent[data-v-42338a5f]{\r\n    width:90%;\r\n    margin-left:5%;\r\n    background:white;\r\n    padding:50px;\n}\n.chartContent[data-v-42338a5f]{\r\n    height:440px;\r\n    width:100%;\r\n    margin-bottom:15px;\r\n    padding-top:20px;\r\n    box-shadow:1px 1px 1px 1px #c3c39e;\n}\n.chartContent[data-v-42338a5f]:hover{\r\n    box-shadow:3px 2px 3px 3px #c3c39e;\n}\n.chart[data-v-42338a5f]{\r\n    margin:0 auto;\r\n    width:800px;\r\n    height:400px;\n}\r\n"],sourceRoot:""}])},812:function(t,i,a){var h=a(784);"string"==typeof h&&(h=[[t.i,h,""]]),h.locals&&(t.exports=h.locals);a(450)("ce060e96",h,!0)},830:function(t,i,a){var h;/*!
 * sChart JavaScript Library v1.0.2
 * http://test.omwteam.com/sChart/ | Released under the MIT license
 * Date: 2017-07-12T18:59Z
 */
!function(s,e){void 0!==(h=function(){return e(s)}.call(i,a,i,t))&&(t.exports=h)}(this,function(t){"use strict";function i(t,i,a,h){this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.type=i,this.data=a,this.dataLength=this.data.length,this.width=this.canvas.width,this.height=this.canvas.height,this.padding=50,this.yEqual=5,this.yLength=0,this.xLength=0,this.yFictitious=0,this.yRatio=0,this.bgColor="#ffffff",this.fillColor="#1E9FFF",this.axisColor="#666666",this.contentColor="#eeeeee",this.titleColor="#000000",this.title="",this.titlePosition="top",this.looped=null,this.current=0,this.radius=100,this.innerRadius=70,this.colorList=["#1E9FFF","#13CE66","#F7BA2A","#FF4949","#72f6ff","#199475","#e08031","#726dd1"],this.legendColor="#000000",this.legendTop=40,this.totalValue=this.getTotalValue(),this.init(h)}return function(){window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,window.requestAnimationFrame||(window.requestAnimationFrame=function(t){return window.setTimeout(t,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),i.prototype={init:function(t){if(0===this.dataLength)return!1;if(t)for(var i in t)"colorList"===i&&Array.isArray(t[i])?this[i]=t[i].concat(this[i]):this[i]=t[i];"bar"===this.type||"line"===this.type?(this.yLength=Math.floor((this.height-2*this.padding-10)/this.yEqual),this.xLength=Math.floor((this.width-1.5*this.padding-10)/this.dataLength),this.yFictitious=this.getYFictitious(this.data),this.yRatio=this.yLength/this.yFictitious,this.looping()):this.drawPieUpdate()},looping:function(){this.looped=window.requestAnimationFrame(this.looping.bind(this)),this.current<100?(this.current=this.current+3>100?100:this.current+3,this.drawAnimation()):(window.cancelAnimationFrame(this.looped),this.looped=null)},drawAnimation:function(){for(var t=0;t<this.dataLength;t++){var i=Math.ceil(this.data[t].value*this.current/100*this.yRatio),a=this.height-this.padding-i;this.data[t].left=this.padding+this.xLength*(t+.25),this.data[t].top=a,this.data[t].right=this.padding+this.xLength*(t+.75),this.data[t].bottom=this.height-this.padding,this.drawBarUpdate()}},drawBarUpdate:function(){this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.width,this.height),this.drawAxis(),this.drawPoint(),this.drawTitle(),this.drawBarChart()},drawPieUpdate:function(){this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.width,this.height),this.drawLegend(),this.drawTitle(),this.drawPieChart()},drawBarChart:function(){this.ctx.fillStyle=this.fillColor,this.ctx.strokeStyle=this.fillColor;for(var t=0;t<this.dataLength;t++)"line"===this.type?(this.ctx.beginPath(),this.ctx.arc(this.data[t].left+this.xLength/4,this.data[t].top,2,0,2*Math.PI,!0),this.ctx.fill(),t!==this.dataLength-1&&(this.ctx.moveTo(this.data[t].left+this.xLength/4,this.data[t].top),this.ctx.lineTo(this.data[t+1].left+this.xLength/4,this.data[t+1].top)),this.ctx.stroke()):"bar"===this.type&&this.ctx.fillRect(this.data[t].left,this.data[t].top,this.data[t].right-this.data[t].left,this.data[t].bottom-this.data[t].top),this.ctx.font="12px Arial",this.ctx.fillText(this.data[t].value*this.current/100,this.data[t].left+this.xLength/4,this.data[t].top-5)},drawPieChart:function(){for(var t=this.width/2,i=this.height/2,a=0,h=0,s=0;s<this.dataLength;s++)this.ctx.beginPath(),this.ctx.fillStyle=this.colorList[s],this.ctx.moveTo(t,i),this.data[s].start=0===s?-Math.PI/2:this.data[s-1].end,this.data[s].end=this.data[s].start+this.data[s].value/this.totalValue*2*Math.PI,this.ctx.arc(t,i,this.radius,this.data[s].start,this.data[s].end),this.ctx.closePath(),this.ctx.fill(),this.data[s].middle=(this.data[s].start+this.data[s].end)/2,a=Math.ceil(Math.abs(this.radius*Math.cos(this.data[s].middle))),h=Math.floor(Math.abs(this.radius*Math.sin(this.data[s].middle))),this.ctx.strokeStyle=this.colorList[s],this.data[s].middle<=0?(this.ctx.textAlign="left",this.ctx.moveTo(t+a,i-h),this.ctx.lineTo(t+a+10,i-h-10),this.ctx.moveTo(t+a+10,i-h-10),this.ctx.lineTo(t+a+this.radius/2,i-h-10),this.ctx.stroke(),this.ctx.fillText(this.data[s].value,t+a+5+this.radius/2,i-h-5)):this.data[s].middle>0&&this.data[s].middle<=Math.PI/2?(this.ctx.textAlign="left",this.ctx.moveTo(t+a,i+h),this.ctx.lineTo(t+a+10,i+h+10),this.ctx.moveTo(t+a+10,i+h+10),this.ctx.lineTo(t+a+this.radius/2,i+h+10),this.ctx.stroke(),this.ctx.fillText(this.data[s].value,t+a+5+this.radius/2,i+h+15)):this.data[s].middle>Math.PI/2&&this.data[s].middle<Math.PI?(this.ctx.textAlign="right",this.ctx.moveTo(t-a,i+h),this.ctx.lineTo(t-a-10,i+h+10),this.ctx.moveTo(t-a-10,i+h+10),this.ctx.lineTo(t-a-this.radius/2,i+h+10),this.ctx.stroke(),this.ctx.fillText(this.data[s].value,t-a-5-this.radius/2,i+h+15)):(this.ctx.textAlign="right",this.ctx.moveTo(t-a,i-h),this.ctx.lineTo(t-a-10,i-h-10),this.ctx.moveTo(t-a-10,i-h-10),this.ctx.lineTo(t-a-this.radius/2,i-h-10),this.ctx.stroke(),this.ctx.fillText(this.data[s].value,t-a-5-this.radius/2,i-h-5));"ring"===this.type&&(this.ctx.beginPath(),this.ctx.fillStyle=this.bgColor,this.ctx.arc(t,i,this.innerRadius,0,2*Math.PI),this.ctx.fill())},drawAxis:function(){this.ctx.beginPath(),this.ctx.strokeStyle=this.axisColor,this.ctx.moveTo(this.padding+.5,this.height-this.padding+.5),this.ctx.lineTo(this.padding+.5,this.padding+.5),this.ctx.moveTo(this.padding+.5,this.height-this.padding+.5),this.ctx.lineTo(this.width-this.padding/2+.5,this.height-this.padding+.5),this.ctx.stroke()},drawPoint:function(){this.ctx.beginPath(),this.ctx.font="12px Microsoft YaHei",this.ctx.textAlign="center",this.ctx.fillStyle=this.axisColor;for(var t=0;t<this.dataLength;t++){var i=this.data[t].name,a=this.xLength*(t+1);this.ctx.moveTo(this.padding+a+.5,this.height-this.padding+.5),this.ctx.lineTo(this.padding+a+.5,this.height-this.padding+5.5),this.ctx.fillText(i,this.padding+a-this.xLength/2,this.height-this.padding+15)}this.ctx.stroke(),this.ctx.beginPath(),this.ctx.font="12px Microsoft YaHei",this.ctx.textAlign="right",this.ctx.fillStyle=this.axisColor,this.ctx.moveTo(this.padding+.5,this.height-this.padding+.5),this.ctx.lineTo(this.padding-4.5,this.height-this.padding+.5),this.ctx.fillText(0,this.padding-10,this.height-this.padding+5);for(var t=0;t<this.yEqual;t++){var h=this.yFictitious*(t+1),s=this.yLength*(t+1);this.ctx.beginPath(),this.ctx.strokeStyle=this.axisColor,this.ctx.moveTo(this.padding+.5,this.height-this.padding-s+.5),this.ctx.lineTo(this.padding-4.5,this.height-this.padding-s+.5),this.ctx.stroke(),this.ctx.fillText(h,this.padding-10,this.height-this.padding-s+5),this.ctx.beginPath(),this.ctx.strokeStyle=this.contentColor,this.ctx.moveTo(this.padding+.5,this.height-this.padding-s+.5),this.ctx.lineTo(this.width-this.padding/2+.5,this.height-this.padding-s+.5),this.ctx.stroke()}},drawTitle:function(){this.title&&(this.ctx.beginPath(),this.ctx.textAlign="center",this.ctx.fillStyle=this.titleColor,this.ctx.font="16px Microsoft YaHei","bottom"===this.titlePosition&&this.padding>=40?this.ctx.fillText(this.title,this.width/2,this.height-5):this.ctx.fillText(this.title,this.width/2,this.padding/2))},drawLegend:function(){for(var t=0;t<this.dataLength;t++)this.ctx.fillStyle=this.colorList[t],this.ctx.fillRect(10,this.legendTop+20*t,20,11),this.ctx.fillStyle=this.legendColor,this.ctx.font="12px Microsoft YaHei",this.ctx.textAlign="left",this.ctx.fillText(this.data[t].name,35,50+20*t)},getYFictitious:function(t){var i=t.slice(0);i.sort(function(t,i){return-(t.value-i.value)});var a=Math.ceil(i[0].value/this.yEqual),h=a.toString().length-1;return h=h>2?2:h,Math.ceil(a/Math.pow(10,h))*Math.pow(10,h)},getTotalValue:function(){for(var t=0,i=0;i<this.dataLength;i++)t+=this.data[i].value;return t}},i})},836:function(t,i,a){var h=a(119)(a(746),a(858),null,null,null);t.exports=h.exports},847:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{attrs:{id:"index"}},[a("div",{staticClass:"myContent"},[a("div",{staticClass:"chartContent"},[a("div",{staticClass:"chart"},[a("schart",{attrs:{canvasId:t.readObj.canvasId,type:t.readObj.type,width:t.readObj.width,height:t.readObj.height,data:t.readObj.data,options:t.readObj.options}})],1)]),t._v(" "),a("div",{staticClass:"chartContent"},[a("div",{staticClass:"chart"},[a("schart",{attrs:{canvasId:t.readArtObj.canvasId,type:t.readArtObj.type,width:t.readArtObj.width,height:t.readArtObj.height,data:t.readArtObj.data,options:t.readArtObj.options}})],1)]),t._v(" "),a("div",{staticClass:"chartContent"},[a("div",{staticClass:"chart"},[a("schart",{attrs:{canvasId:t.markNumObj.canvasId,type:t.markNumObj.type,width:t.markNumObj.width,height:t.markNumObj.height,data:t.markNumObj.data,options:t.markNumObj.options}})],1)])])])},staticRenderFns:[]}},858:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[a("canvas",{attrs:{id:t.canvasId,width:t.width,height:t.height}})])},staticRenderFns:[]}}});
//# sourceMappingURL=19.39d59bacb734df98f12e.js.map